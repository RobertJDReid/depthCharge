
.TH DEPTHCHARGE 1 "January 2025" "DepthCharge v0.18" "User Commands"
.SH NAME
depthCharge \- Compute mean sequence depth within bins from genomic data

.SH SYNOPSIS
.B depthCharge
[OPTIONS]

.SH DESCRIPTION
.B DepthCharge
is a command-line tool for processing sequence depth data from `samtools depth` output. It calculates the mean sequence depth for specified bins across chromosomes. Optionally, it can reference chromosome lengths from a FASTA index (`.fai`) file.

.SH OPTIONS
.TP
.B --bin-size=<integer>
Set the size of the bins for calculating mean depth (default: 1000).

.TP
.B -i <file>
Specify the input file. If not provided, the program reads from standard input (`stdin`).

.TP
.B --fai <file>
Provide the path to a `.fai` file to reference chromosome lengths. Can also be specified as `--fai=<file>`.

.SH INPUT FORMAT
Input must be in the format generated by `samtools depth`:
.RS
<chromosome>  <position>  <depth>
.RE

.SH OUTPUT FORMAT
The output is tab-delimited and includes:
.RS
<chromosome>  <bin_start>  <bin_end>  <mean_depth>
.RE

.SH EXAMPLES
.TP
Basic usage with default bin size:
.RS
.B samtools depth input.bam | ./depthCharge
.RE

.TP
Custom bin size:
.RS
.B samtools depth input.bam | ./depthCharge --bin-size=500
.RE

.TP
Using a FASTA index:
.RS
.B samtools depth input.bam | ./depthCharge --fai genome.fai
.RE

.TP
Processing an existing depth file:
.RS
.B ./depthCharge -i depth.txt --bin-size=1000 --fai genome.fai
.RE

.SH NOTES
Ensure that the input file and the `.fai` file (if used) are compatible and contain the required data. Chromosome transitions are correctly handled, ensuring bins at the ends of chromosomes are processed.

.SH AUTHOR
Robert J.D. Reid 
Feel free to contact for questions or feature requests.

.SH LICENSE
This program is licensed under the MIT License.
